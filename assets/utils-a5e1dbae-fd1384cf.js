var pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dr(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function re(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var a=function n(){if(this instanceof n){var f=[null];f.push.apply(f,arguments);var o=Function.bind.apply(e,f);return new o}return e.apply(this,arguments)};a.prototype=e.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var f=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(a,n,f.get?f:{enumerable:!0,get:function(){return r[n]}})}),a}var k=Uint8Array,_=Uint16Array,Fr=Int32Array,or=new k([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),lr=new k([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),yr=new k([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Sr=function(r,e){for(var a=new _(31),n=0;n<31;++n)a[n]=e+=1<<r[n-1];for(var f=new Fr(a[30]),n=1;n<30;++n)for(var o=a[n];o<a[n+1];++o)f[o]=o-a[n]<<5|n;return{b:a,r:f}},zr=Sr(or,2),Er=zr.b,sr=zr.r;Er[28]=258,sr[258]=28;var Or=Sr(lr,0),qr=Or.b,Tr=Or.r,br=new _(32768);for(var y=0;y<32768;++y){var Z=(y&43690)>>1|(y&21845)<<1;Z=(Z&52428)>>2|(Z&13107)<<2,Z=(Z&61680)>>4|(Z&3855)<<4,br[y]=((Z&65280)>>8|(Z&255)<<8)>>1}var K=function(r,e,a){for(var n=r.length,f=0,o=new _(e);f<n;++f)r[f]&&++o[r[f]-1];var l=new _(e);for(f=1;f<e;++f)l[f]=l[f-1]+o[f-1]<<1;var t;if(a){t=new _(1<<e);var w=15-e;for(f=0;f<n;++f)if(r[f])for(var u=f<<4|r[f],v=e-r[f],i=l[r[f]-1]++<<v,C=i|(1<<v)-1;i<=C;++i)t[br[i]>>w]=u}else for(t=new _(n),f=0;f<n;++f)r[f]&&(t[f]=br[l[r[f]-1]++]>>15-r[f]);return t},$=new k(288);for(var y=0;y<144;++y)$[y]=8;for(var y=144;y<256;++y)$[y]=9;for(var y=256;y<280;++y)$[y]=7;for(var y=280;y<288;++y)$[y]=8;var vr=new k(32);for(var y=0;y<32;++y)vr[y]=5;var Br=K($,9,0),Gr=K($,9,1),Nr=K(vr,5,0),Rr=K(vr,5,1),cr=function(r){for(var e=r[0],a=1;a<r.length;++a)r[a]>e&&(e=r[a]);return e},W=function(r,e,a){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&a},wr=function(r,e){var a=e/8|0;return(r[a]|r[a+1]<<8|r[a+2]<<16)>>(e&7)},xr=function(r){return(r+7)/8|0},ir=function(r,e,a){(e==null||e<0)&&(e=0),(a==null||a>r.length)&&(a=r.length);var n=new k(a-e);return n.set(r.subarray(e,a)),n},Wr=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],G=function(r,e,a){var n=new Error(e||Wr[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,G),!a)throw n;return n},Hr=function(r,e,a,n){var f=r.length,o=n?n.length:0;if(!f||e.f&&!e.l)return a||new k(0);var l=!a||e.i!=2,t=e.i;a||(a=new k(f*3));var w=function(rr){var er=a.length;if(rr>er){var ar=new k(Math.max(er*2,rr));ar.set(a),a=ar}},u=e.f||0,v=e.p||0,i=e.b||0,C=e.l,M=e.d,A=e.m,b=e.n,q=f*8;do{if(!C){u=W(r,v,1);var N=W(r,v+1,3);if(v+=3,N)if(N==1)C=Gr,M=Rr,A=9,b=5;else if(N==2){var z=W(r,v,31)+257,P=W(r,v+10,15)+4,S=z+W(r,v+5,31)+1;v+=14;for(var c=new k(S),h=new k(19),g=0;g<P;++g)h[yr[g]]=W(r,v+g*3,7);v+=P*3;for(var Q=cr(h),U=(1<<Q)-1,Y=K(h,Q,1),g=0;g<S;){var D=Y[W(r,v,U)];v+=D&15;var F=D>>4;if(F<16)c[g++]=F;else{var m=0,j=0;for(F==16?(j=3+W(r,v,3),v+=2,m=c[g-1]):F==17?(j=3+W(r,v,7),v+=3):F==18&&(j=11+W(r,v,127),v+=7);j--;)c[g++]=m}}var x=c.subarray(0,z),s=c.subarray(z);A=cr(x),b=cr(s),C=K(x,A,1),M=K(s,b,1)}else G(1);else{var F=xr(v)+4,R=r[F-4]|r[F-3]<<8,O=F+R;if(O>f){t&&G(0);break}l&&w(i+R),a.set(r.subarray(F,O),i),e.b=i+=R,e.p=v=O*8,e.f=u;continue}if(v>q){t&&G(0);break}}l&&w(i+131072);for(var H=(1<<A)-1,d=(1<<b)-1,I=v;;I=v){var m=C[wr(r,v)&H],B=m>>4;if(v+=m&15,v>q){t&&G(0);break}if(m||G(2),B<256)a[i++]=B;else if(B==256){I=v,C=null;break}else{var V=B-254;if(B>264){var g=B-257,E=or[g];V=W(r,v,(1<<E)-1)+Er[g],v+=E}var T=M[wr(r,v)&d],J=T>>4;T||G(3),v+=T&15;var s=qr[J];if(J>3){var E=lr[J];s+=wr(r,v)&(1<<E)-1,v+=E}if(v>q){t&&G(0);break}l&&w(i+131072);var L=i+V;if(i<s){var p=o-s,tr=Math.min(s,L);for(p+i<0&&G(3);i<tr;++i)a[i]=n[p+i]}for(;i<L;i+=4)a[i]=a[i-s],a[i+1]=a[i+1-s],a[i+2]=a[i+2-s],a[i+3]=a[i+3-s];i=L}}e.l=C,e.p=I,e.b=i,e.f=u,C&&(u=1,e.m=A,e.d=M,e.n=b)}while(!u);return i==a.length?a:ir(a,0,i)},X=function(r,e,a){a<<=e&7;var n=e/8|0;r[n]|=a,r[n+1]|=a>>8},nr=function(r,e,a){a<<=e&7;var n=e/8|0;r[n]|=a,r[n+1]|=a>>8,r[n+2]|=a>>16},gr=function(r,e){for(var a=[],n=0;n<r.length;++n)r[n]&&a.push({s:n,f:r[n]});var f=a.length,o=a.slice();if(!f)return{t:jr,l:0};if(f==1){var l=new k(a[0].s+1);return l[a[0].s]=1,{t:l,l:1}}a.sort(function(z,P){return z.f-P.f}),a.push({s:-1,f:25001});var t=a[0],w=a[1],u=0,v=1,i=2;for(a[0]={s:-1,f:t.f+w.f,l:t,r:w};v!=f-1;)t=a[a[u].f<a[i].f?u++:i++],w=a[u!=v&&a[u].f<a[i].f?u++:i++],a[v++]={s:-1,f:t.f+w.f,l:t,r:w};for(var C=o[0].s,n=1;n<f;++n)o[n].s>C&&(C=o[n].s);var M=new _(C+1),A=Cr(a[v-1],M,0);if(A>e){var n=0,b=0,q=A-e,N=1<<q;for(o.sort(function(P,S){return M[S.s]-M[P.s]||P.f-S.f});n<f;++n){var F=o[n].s;if(M[F]>e)b+=N-(1<<A-M[F]),M[F]=e;else break}for(b>>=q;b>0;){var R=o[n].s;M[R]<e?b-=1<<e-M[R]++-1:++n}for(;n>=0&&b;--n){var O=o[n].s;M[O]==e&&(--M[O],++b)}A=e}return{t:new k(M),l:A}},Cr=function(r,e,a){return r.s==-1?Math.max(Cr(r.l,e,a+1),Cr(r.r,e,a+1)):e[r.s]=a},kr=function(r){for(var e=r.length;e&&!r[--e];);for(var a=new _(++e),n=0,f=r[0],o=1,l=function(w){a[n++]=w},t=1;t<=e;++t)if(r[t]==f&&t!=e)++o;else{if(!f&&o>2){for(;o>138;o-=138)l(32754);o>2&&(l(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(l(f),--o;o>6;o-=6)l(8304);o>2&&(l(o-3<<5|8208),o=0)}for(;o--;)l(f);o=1,f=r[t]}return{c:a.subarray(0,n),n:e}},fr=function(r,e){for(var a=0,n=0;n<e.length;++n)a+=r[n]*e[n];return a},Ur=function(r,e,a){var n=a.length,f=xr(e+2);r[f]=n&255,r[f+1]=n>>8,r[f+2]=r[f]^255,r[f+3]=r[f+1]^255;for(var o=0;o<n;++o)r[f+o+4]=a[o];return(f+4+n)*8},mr=function(r,e,a,n,f,o,l,t,w,u,v){X(e,v++,a),++f[256];for(var i=gr(f,15),C=i.t,M=i.l,A=gr(o,15),b=A.t,q=A.l,N=kr(C),F=N.c,R=N.n,O=kr(b),z=O.c,P=O.n,S=new _(19),c=0;c<F.length;++c)++S[F[c]&31];for(var c=0;c<z.length;++c)++S[z[c]&31];for(var h=gr(S,7),g=h.t,Q=h.l,U=19;U>4&&!g[yr[U-1]];--U);var Y=u+5<<3,D=fr(f,$)+fr(o,vr)+l,m=fr(f,C)+fr(o,b)+l+14+3*U+fr(S,g)+2*S[16]+3*S[17]+7*S[18];if(w>=0&&Y<=D&&Y<=m)return Ur(e,v,r.subarray(w,w+u));var j,x,s,H;if(X(e,v,1+(m<D)),v+=2,m<D){j=K(C,M,0),x=C,s=K(b,q,0),H=b;var d=K(g,Q,0);X(e,v,R-257),X(e,v+5,P-1),X(e,v+10,U-4),v+=14;for(var c=0;c<U;++c)X(e,v+3*c,g[yr[c]]);v+=3*U;for(var I=[F,z],B=0;B<2;++B)for(var V=I[B],c=0;c<V.length;++c){var E=V[c]&31;X(e,v,d[E]),v+=g[E],E>15&&(X(e,v,V[c]>>5&127),v+=V[c]>>12)}}else j=Br,x=$,s=Nr,H=vr;for(var c=0;c<t;++c){var T=n[c];if(T>255){var E=T>>18&31;nr(e,v,j[E+257]),v+=x[E+257],E>7&&(X(e,v,T>>23&31),v+=or[E]);var J=T&31;nr(e,v,s[J]),v+=H[J],J>3&&(nr(e,v,T>>5&8191),v+=lr[J])}else nr(e,v,j[T]),v+=x[T]}return nr(e,v,j[256]),v+x[256]},Jr=new Fr([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),jr=new k(0),Kr=function(r,e,a,n,f,o){var l=o.z||r.length,t=new k(n+l+5*(1+Math.ceil(l/7e3))+f),w=t.subarray(n,t.length-f),u=o.l,v=(o.r||0)&7;if(e){v&&(w[0]=o.r>>3);for(var i=Jr[e-1],C=i>>13,M=i&8191,A=(1<<a)-1,b=o.p||new _(32768),q=o.h||new _(A+1),N=Math.ceil(a/3),F=2*N,R=function(hr){return(r[hr]^r[hr+1]<<N^r[hr+2]<<F)&A},O=new Fr(25e3),z=new _(288),P=new _(32),S=0,c=0,h=o.i||0,g=0,Q=o.w||0,U=0;h+2<l;++h){var Y=R(h),D=h&32767,m=q[Y];if(b[D]=m,q[Y]=D,Q<=h){var j=l-h;if((S>7e3||g>24576)&&(j>423||!u)){v=mr(r,w,0,O,z,P,c,g,U,h-U,v),g=S=c=0,U=h;for(var x=0;x<286;++x)z[x]=0;for(var x=0;x<30;++x)P[x]=0}var s=2,H=0,d=M,I=D-m&32767;if(j>2&&Y==R(h-I))for(var B=Math.min(C,j)-1,V=Math.min(32767,h),E=Math.min(258,j);I<=V&&--d&&D!=m;){if(r[h+s]==r[h+s-I]){for(var T=0;T<E&&r[h+T]==r[h+T-I];++T);if(T>s){if(s=T,H=I,T>B)break;for(var J=Math.min(I,T-2),L=0,x=0;x<J;++x){var p=h-I+x&32767,tr=b[p],rr=p-tr&32767;rr>L&&(L=rr,m=p)}}}D=m,m=b[D],I+=D-m&32767}if(H){O[g++]=268435456|sr[s]<<18|Tr[H];var er=sr[s]&31,ar=Tr[H]&31;c+=or[er]+lr[ar],++z[257+er],++P[ar],Q=h+s,++S}else O[g++]=r[h],++z[r[h]]}}for(h=Math.max(h,Q);h<l;++h)O[g++]=r[h],++z[r[h]];v=mr(r,w,u,O,z,P,c,g,U,h-U,v),u||(o.r=v&7|w[v/8|0]<<3,v-=7,o.h=q,o.p=b,o.i=h,o.w=Q)}else{for(var h=o.w||0;h<l+u;h+=65535){var ur=h+65535;ur>=l&&(w[v/8|0]=u,ur=l),v=Ur(w,v+1,r.subarray(h,ur))}o.i=l}return ir(t,0,n+xr(v)+f)},Pr=function(){var r=1,e=0;return{p:function(a){for(var n=r,f=e,o=a.length|0,l=0;l!=o;){for(var t=Math.min(l+2655,o);l<t;++l)f+=n+=a[l];n=(n&65535)+15*(n>>16),f=(f&65535)+15*(f>>16)}r=n,e=f},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},Qr=function(r,e,a,n,f){if(!f&&(f={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),l=new k(o.length+r.length);l.set(o),l.set(r,o.length),r=l,f.w=o.length}return Kr(r,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):12+e.mem,a,n,f)},Dr=function(r,e,a){for(;a;++e)r[e]=a,a>>>=8},Vr=function(r,e){var a=e.level,n=a==0?0:a<6?1:a==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var f=Pr();f.p(e.dictionary),Dr(r,2,f.d())}},Xr=function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&G(6,"invalid zlib data"),(r[1]>>5&1)==+!e&&G(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function Yr(r,e){e||(e={});var a=Pr();a.p(r);var n=Qr(r,e,e.dictionary?6:2,4);return Vr(n,e),Dr(n,n.length-4,a.d()),n}function Zr(r,e){return Hr(r.subarray(Xr(r,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var Ar=typeof TextEncoder<"u"&&new TextEncoder,Mr=typeof TextDecoder<"u"&&new TextDecoder,$r=0;try{Mr.decode(jr,{stream:!0}),$r=1}catch{}var Lr=function(r){for(var e="",a=0;;){var n=r[a++],f=(n>127)+(n>223)+(n>239);if(a+f>r.length)return{s:e,r:ir(r,a-1)};f?f==3?(n=((n&15)<<18|(r[a++]&63)<<12|(r[a++]&63)<<6|r[a++]&63)-65536,e+=String.fromCharCode(55296|n>>10,56320|n&1023)):f&1?e+=String.fromCharCode((n&31)<<6|r[a++]&63):e+=String.fromCharCode((n&15)<<12|(r[a++]&63)<<6|r[a++]&63):e+=String.fromCharCode(n)}};function Ir(r,e){if(e){for(var a=new k(r.length),n=0;n<r.length;++n)a[n]=r.charCodeAt(n);return a}if(Ar)return Ar.encode(r);for(var f=r.length,o=new k(r.length+(r.length>>1)),l=0,t=function(v){o[l++]=v},n=0;n<f;++n){if(l+5>o.length){var w=new k(l+8+(f-n<<1));w.set(o),o=w}var u=r.charCodeAt(n);u<128||e?t(u):u<2048?(t(192|u>>6),t(128|u&63)):u>55295&&u<57344?(u=65536+(u&1047552)|r.charCodeAt(++n)&1023,t(240|u>>18),t(128|u>>12&63),t(128|u>>6&63),t(128|u&63)):(t(224|u>>12),t(128|u>>6&63),t(128|u&63))}return ir(o,0,l)}function _r(r,e){if(e){for(var a="",n=0;n<r.length;n+=16384)a+=String.fromCharCode.apply(null,r.subarray(n,n+16384));return a}else{if(Mr)return Mr.decode(r);var f=Lr(r),o=f.s,a=f.r;return a.length&&G(8),o}}function ee(r,e=100){let a;return(...n)=>{a&&clearTimeout(a),a=setTimeout(()=>{r(...n)},e)}}function ae(r){const e=Ir(r),a=Yr(e,{level:9}),n=_r(a,!0);return btoa(n)}function ne(r){const e=atob(r);if(e.startsWith("xÚ")){const a=Ir(e,!0),n=Zr(a);return _r(n)}return decodeURIComponent(escape(e))}export{ne as a,dr as b,pr as c,ee as d,re as g,ae as u};
