import{_ as o}from"./plugin-vue_export-helper-c27b6911.js";import{r as i,o as p,c as l,a as n,b as s,e,f as t}from"./app-967d79b2.js";const r="/assets/image_0Tjn_LqmEY-90be613f.png",c="/assets/image_AcjB4Lw9NH-fa9da6f2.png",d="/assets/image_vdL9_cUOtG-6a02676e.png",u={},k=t('<h1 id="rest-frameworkä¸“æ è®²è§£-åä¹-filtering" tabindex="-1"><a class="header-anchor" href="#rest-frameworkä¸“æ è®²è§£-åä¹-filtering" aria-hidden="true">#</a> Rest-frameworkä¸“æ è®²è§£(åä¹)ï¼šFiltering</h1><h2 id="ç›®å½•" tabindex="-1"><a class="header-anchor" href="#ç›®å½•" aria-hidden="true">#</a> ç›®å½•</h2><ul><li><a href="#%E8%BF%87%E6%BB%A4">è¿‡æ»¤</a><ul><li><a href="#%E6%A0%B9%E6%8D%AE%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4">æ ¹æ®å½“å‰ç”¨æˆ·è¿›è¡Œè¿‡æ»¤</a></li><li><a href="#%E6%A0%B9%E6%8D%AE-URL-%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4">æ ¹æ® URL è¿›è¡Œè¿‡æ»¤</a></li><li><a href="#%E6%A0%B9%E6%8D%AE%E6%9F%A5%E8%AF%A2%E5%8F%82%E6%95%B0%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4">æ ¹æ®æŸ¥è¯¢å‚æ•°è¿›è¡Œè¿‡æ»¤</a></li></ul></li><li><a href="#%E9%80%9A%E7%94%A8%E8%BF%87%E6%BB%A4%E5%99%A8">é€šç”¨è¿‡æ»¤å™¨</a><ul><li><a href="#%E8%AE%BE%E7%BD%AE%E8%BF%87%E6%BB%A4%E5%99%A8%E5%90%8E%E7%AB%AF">è®¾ç½®è¿‡æ»¤å™¨åç«¯</a></li><li><a href="#%E8%BF%87%E6%BB%A4%E5%92%8C%E5%AF%B9%E8%B1%A1%E6%9F%A5%E6%89%BE">è¿‡æ»¤å’Œå¯¹è±¡æŸ¥æ‰¾</a></li><li><a href="#%E8%A6%86%E7%9B%96%E5%88%9D%E5%A7%8B%E6%9F%A5%E8%AF%A2%E9%9B%86">è¦†ç›–åˆå§‹æŸ¥è¯¢é›†</a></li></ul></li><li><a href="#%E8%BF%87%E6%BB%A4%E5%99%A8API-%E5%8F%82%E8%80%83">è¿‡æ»¤å™¨API å‚è€ƒ</a><ul><li><a href="#DjangoFilterBackend">DjangoFilterBackend</a></li><li><a href="#SearchFilter">SearchFilter</a></li><li><a href="#OrderingFilter">OrderingFilter</a><ul><li><a href="#%E6%8C%87%E5%AE%9A%E5%8F%AF%E4%BB%A5%E6%A0%B9%E6%8D%AE%E5%93%AA%E4%BA%9B%E5%AD%97%E6%AE%B5%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F">æŒ‡å®šå¯ä»¥æ ¹æ®å“ªäº›å­—æ®µè¿›è¡Œæ’åº</a></li><li><a href="#%E6%8C%87%E5%AE%9A%E9%BB%98%E8%AE%A4%E9%A1%BA%E5%BA%8F">æŒ‡å®šé»˜è®¤é¡ºåº</a></li></ul></li><li><a href="#DjangoObjectPermissionsFilter">DjangoObjectPermissionsFilter</a></li></ul></li><li><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%80%9A%E7%94%A8%E8%BF%87%E6%BB%A4%E5%99%A8">è‡ªå®šä¹‰é€šç”¨è¿‡æ»¤å™¨</a><ul><li><a href="#%E4%B8%BE%E4%B8%AA%E6%A0%97%E5%AD%90">ä¸¾ä¸ªæ —å­</a></li><li><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%A5%E5%8F%A3">è‡ªå®šä¹‰æ¥å£</a></li><li><a href="#Pagination--schemas">Pagination &amp; schemas</a></li><li><a href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93">ç¬¬ä¸‰æ–¹åº“</a><ul><li><a href="#Django-REST%E6%A1%86%E6%9E%B6%E8%BF%87%E6%BB%A4%E5%99%A8%E8%BD%AF%E4%BB%B6%E5%8C%85">Django RESTæ¡†æ¶è¿‡æ»¤å™¨è½¯ä»¶åŒ…</a></li><li><a href="#Django-REST%E6%A1%86%E6%9E%B6%E5%85%A8%E5%AD%97%E6%90%9C%E7%B4%A2%E8%BF%87%E6%BB%A4%E5%99%A8">Django RESTæ¡†æ¶å…¨å­—æœç´¢è¿‡æ»¤å™¨</a></li><li><a href="#Django-URL%E8%BF%87%E6%BB%A4%E5%99%A8">Django URLè¿‡æ»¤å™¨</a></li><li><a href="#drf-url-filters">drf-url-filters</a></li></ul></li></ul></li></ul><hr>',4),h={href:"http://www.django-rest-framework.org/api-guide/filtering/",title:"å®˜æ–¹åŸæ–‡é“¾æ¥",target:"_blank",rel:"noopener noreferrer"},m={id:"è¿‡æ»¤",tabindex:"-1"},v=n("a",{class:"header-anchor",href:"#è¿‡æ»¤","aria-hidden":"true"},"#",-1),_={href:"http://drf.jiuyou.info/#/drf/filtering?id=%E8%BF%87%E6%BB%A4",title:"è¿‡æ»¤",target:"_blank",rel:"noopener noreferrer"},g=n("p",null,"REST framework çš„é€šç”¨åˆ—è¡¨è§†å›¾çš„é»˜è®¤è¡Œä¸ºæ˜¯ä»æ¨¡å‹ç®¡ç†å™¨è¿”å›æ•´ä¸ªæŸ¥è¯¢é›†ã€‚é€šå¸¸ä½ ä¼šå¸Œæœ› API é™åˆ¶æŸ¥è¯¢é›†è¿”å›çš„æ¡ç›®ã€‚",-1),f=n("p",null,[s("ç­›é€‰ "),n("code",null,"GenericAPIView"),s(" å­ç±»çš„æŸ¥è¯¢é›†çš„æœ€ç®€å•æ–¹æ³•æ˜¯é‡å†™ "),n("code",null,".get_queryset()"),s(" æ–¹æ³•ã€‚")],-1),b=n("p",null,"é‡å†™æ­¤æ–¹æ³•å…è®¸ä½ ä»¥å¤šç§ä¸åŒæ–¹å¼è‡ªå®šä¹‰è§†å›¾è¿”å›çš„æŸ¥è¯¢é›†ã€‚",-1),E={id:"æ ¹æ®å½“å‰ç”¨æˆ·è¿›è¡Œè¿‡æ»¤",tabindex:"-1"},y=n("a",{class:"header-anchor",href:"#æ ¹æ®å½“å‰ç”¨æˆ·è¿›è¡Œè¿‡æ»¤","aria-hidden":"true"},"#",-1),A={href:"http://drf.jiuyou.info/#/drf/filtering?id=%E6%A0%B9%E6%8D%AE%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4",title:"æ ¹æ®å½“å‰ç”¨æˆ·è¿›è¡Œè¿‡æ»¤",target:"_blank",rel:"noopener noreferrer"},B=t(`<p>ä½ å¯èƒ½éœ€è¦è¿‡æ»¤æŸ¥è¯¢é›†ï¼Œä»¥ç¡®ä¿åªè¿”å›ä¸å½“å‰é€šè¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·å‘å‡ºçš„è¯·æ±‚ç›¸å…³çš„ç»“æœã€‚</p><p>ä½ å¯ä»¥åŸºäº <code>request.user</code> çš„å€¼è¿›è¡Œç­›é€‰æ¥å®Œæˆæ­¤æ“ä½œã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> myapp<span class="token punctuation">.</span>models <span class="token keyword">import</span> Purchase
<span class="token keyword">from</span> myapp<span class="token punctuation">.</span>serializers <span class="token keyword">import</span> PurchaseSerializer
<span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> generics

<span class="token keyword">class</span> <span class="token class-name">PurchaseList</span><span class="token punctuation">(</span>generics<span class="token punctuation">.</span>ListAPIView<span class="token punctuation">)</span><span class="token punctuation">:</span>
    serializer_class <span class="token operator">=</span> PurchaseSerializer

    <span class="token keyword">def</span> <span class="token function">get_queryset</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;
        This view should return a list of all the purchases
        for the currently authenticated user.
        &quot;&quot;&quot;</span>
        user <span class="token operator">=</span> self<span class="token punctuation">.</span>request<span class="token punctuation">.</span>user
        <span class="token keyword">return</span> Purchase<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>purchaser<span class="token operator">=</span>user<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4),j={id:"æ ¹æ®-url-è¿›è¡Œè¿‡æ»¤",tabindex:"-1"},w=n("a",{class:"header-anchor",href:"#æ ¹æ®-url-è¿›è¡Œè¿‡æ»¤","aria-hidden":"true"},"#",-1),F={href:"http://drf.jiuyou.info/#/drf/filtering?id=%E6%A0%B9%E6%8D%AE-url-%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4",title:"æ ¹æ® URL è¿›è¡Œè¿‡æ»¤",target:"_blank",rel:"noopener noreferrer"},q=t(`<p>å¦ä¸€ç§è¿‡æ»¤æ–¹å¼å¯èƒ½æ¶‰åŠåŸºäº URL çš„æŸä¸ªéƒ¨åˆ†é™åˆ¶æŸ¥è¯¢é›†ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„ URL é…ç½®åŒ…å«è¿™æ ·çš„æ¡ç›®ï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>re_path<span class="token punctuation">(</span><span class="token string">&#39;^purchases/(?P&lt;username&gt;.+)/$&#39;</span><span class="token punctuation">,</span> PurchaseList<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶åï¼Œä½ å¯ä»¥ç¼–å†™ä¸€ä¸ªè§†å›¾ï¼Œè¿”å›ç”± URL çš„ç”¨æˆ·åéƒ¨åˆ†è¿‡æ»¤çš„ purchase æŸ¥è¯¢é›†ï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">PurchaseList</span><span class="token punctuation">(</span>generics<span class="token punctuation">.</span>ListAPIView<span class="token punctuation">)</span><span class="token punctuation">:</span>
    serializer_class <span class="token operator">=</span> PurchaseSerializer

    <span class="token keyword">def</span> <span class="token function">get_queryset</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;
        This view should return a list of all the purchases for
        the user as determined by the username portion of the URL.
        &quot;&quot;&quot;</span>
        username <span class="token operator">=</span> self<span class="token punctuation">.</span>kwargs<span class="token punctuation">[</span><span class="token string">&#39;username&#39;</span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> Purchase<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>purchaser__username<span class="token operator">=</span>username<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),D={id:"æ ¹æ®æŸ¥è¯¢å‚æ•°è¿›è¡Œè¿‡æ»¤",tabindex:"-1"},P=n("a",{class:"header-anchor",href:"#æ ¹æ®æŸ¥è¯¢å‚æ•°è¿›è¡Œè¿‡æ»¤","aria-hidden":"true"},"#",-1),x={href:"http://drf.jiuyou.info/#/drf/filtering?id=%E6%A0%B9%E6%8D%AE%E6%9F%A5%E8%AF%A2%E5%8F%82%E6%95%B0%E8%BF%9B%E8%A1%8C%E8%BF%87%E6%BB%A4",title:"æ ¹æ®æŸ¥è¯¢å‚æ•°è¿›è¡Œè¿‡æ»¤",target:"_blank",rel:"noopener noreferrer"},L=t(`<p>è¿‡æ»¤åˆå§‹æŸ¥è¯¢é›†çš„æœ€åä¸€ä¸ªä¾‹å­æ˜¯æ ¹æ® url ä¸­çš„æŸ¥è¯¢å‚æ•°ç¡®å®šåˆå§‹æŸ¥è¯¢é›†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥è¦†ç›– <code>.get_queryset()</code> æ¥å¤„ç†è¯¸å¦‚ <code>http://example.com/api/purchases?username=denvercoder9</code> çš„URLï¼Œå¹¶ä¸”åªæœ‰åœ¨ URL ä¸­åŒ…å« <code>username</code> å‚æ•°æ—¶æ‰è¿‡æ»¤æŸ¥è¯¢é›†ï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">PurchaseList</span><span class="token punctuation">(</span>generics<span class="token punctuation">.</span>ListAPIView<span class="token punctuation">)</span><span class="token punctuation">:</span>
    serializer_class <span class="token operator">=</span> PurchaseSerializer

    <span class="token keyword">def</span> <span class="token function">get_queryset</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;
        Optionally restricts the returned purchases to a given user,
        by filtering against a \`username\` query parameter in the URL.
        &quot;&quot;&quot;</span>
        queryset <span class="token operator">=</span> Purchase<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        username <span class="token operator">=</span> self<span class="token punctuation">.</span>request<span class="token punctuation">.</span>query_params<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;username&#39;</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> username <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            queryset <span class="token operator">=</span> queryset<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>purchaser__username<span class="token operator">=</span>username<span class="token punctuation">)</span>
        <span class="token keyword">return</span> queryset
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),S={id:"é€šç”¨è¿‡æ»¤å™¨",tabindex:"-1"},R=n("a",{class:"header-anchor",href:"#é€šç”¨è¿‡æ»¤å™¨","aria-hidden":"true"},"#",-1),T={href:"http://drf.jiuyou.info/#/drf/filtering?id=%E9%80%9A%E7%94%A8%E8%BF%87%E6%BB%A4%E5%99%A8",title:"é€šç”¨è¿‡æ»¤å™¨",target:"_blank",rel:"noopener noreferrer"},U=n("p",null,"é™¤äº†èƒ½å¤Ÿè¦†ç›–é»˜è®¤çš„æŸ¥è¯¢é›†å¤–ï¼ŒREST framework è¿˜åŒ…æ‹¬å¯¹é€šç”¨è¿‡æ»¤åç«¯çš„æ”¯æŒï¼Œä½¿ä½ å¯ä»¥è½»æ¾æ„å»ºå¤æ‚çš„æœç´¢å’Œè¿‡æ»¤å™¨ã€‚",-1),I=n("p",null,"é€šç”¨è¿‡æ»¤å™¨ä¹Ÿå¯ä»¥åœ¨å¯æµè§ˆçš„ API å’Œç®¡ç† API ä¸­å°†è‡ªå·±æ¸²æŸ“ä¸º HTML æ§ä»¶ã€‚",-1),O=n("figure",null,[n("img",{src:r,alt:"",tabindex:"0",loading:"lazy"}),n("figcaption")],-1),z={id:"è®¾ç½®è¿‡æ»¤å™¨åç«¯",tabindex:"-1"},C=n("a",{class:"header-anchor",href:"#è®¾ç½®è¿‡æ»¤å™¨åç«¯","aria-hidden":"true"},"#",-1),V={href:"http://drf.jiuyou.info/#/drf/filtering?id=%E8%AE%BE%E7%BD%AE%E8%BF%87%E6%BB%A4%E5%99%A8%E5%90%8E%E7%AB%AF",title:"è®¾ç½®è¿‡æ»¤å™¨åç«¯",target:"_blank",rel:"noopener noreferrer"},N=t(`<p>å¯ä»¥ä½¿ç”¨ <code>DEFAULT_FILTER_BACKENDS</code> setting <code>å…¨å±€è®¾ç½®é»˜è®¤çš„è¿‡æ»¤å™¨åç«¯</code>ã€‚ä¾‹å¦‚ã€‚</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>REST_FRAMEWORK <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&#39;DEFAULT_FILTER_BACKENDS&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;django_filters.rest_framework.DjangoFilterBackend&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½ è¿˜å¯ä»¥ä½¿ç”¨åŸºäº <code>GenericAPIView</code> ç±»çš„è§†å›¾ï¼Œåœ¨æ¯ä¸ªè§†å›¾æˆ–è§†å›¾é›†çš„åŸºç¡€ä¸Šè®¾ç½®è¿‡æ»¤å™¨åç«¯ã€‚</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> django_filters<span class="token punctuation">.</span>rest_framework
<span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>models <span class="token keyword">import</span> User
<span class="token keyword">from</span> myapp<span class="token punctuation">.</span>serializers <span class="token keyword">import</span> UserSerializer
<span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> generics

<span class="token keyword">class</span> <span class="token class-name">UserListView</span><span class="token punctuation">(</span>generics<span class="token punctuation">.</span>ListAPIView<span class="token punctuation">)</span><span class="token punctuation">:</span>
    queryset <span class="token operator">=</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    serializer_class <span class="token operator">=</span> UserSerializer
    filter_backends <span class="token operator">=</span> <span class="token punctuation">[</span>django_filters<span class="token punctuation">.</span>rest_framework<span class="token punctuation">.</span>DjangoFilterBackend<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4),M={id:"è¿‡æ»¤å’Œå¯¹è±¡æŸ¥æ‰¾",tabindex:"-1"},H=n("a",{class:"header-anchor",href:"#è¿‡æ»¤å’Œå¯¹è±¡æŸ¥æ‰¾","aria-hidden":"true"},"#",-1),K={href:"http://drf.jiuyou.info/#/drf/filtering?id=%E8%BF%87%E6%BB%A4%E5%92%8C%E5%AF%B9%E8%B1%A1%E6%9F%A5%E6%89%BE",title:"è¿‡æ»¤å’Œå¯¹è±¡æŸ¥æ‰¾",target:"_blank",rel:"noopener noreferrer"},G=t(`<p>è¯·æ³¨æ„ï¼Œå¦‚æœä¸ºä¸€ä¸ªè§†å›¾é…ç½®äº†ä¸€ä¸ªè¿‡æ»¤å™¨åç«¯ï¼Œé‚£ä¹ˆé™¤äº†ç”¨äºç­›é€‰åˆ—è¡¨è§†å›¾ä¹‹å¤–ï¼Œå®ƒè¿˜å°†ç”¨äºç­›é€‰è¿”å›å•ä¸ªå¯¹è±¡çš„æŸ¥è¯¢é›†ã€‚</p><p>ä¾‹å¦‚ï¼Œæ ¹æ®å‰é¢çš„ç¤ºä¾‹ä»¥åŠ ID ä¸º <code>4675</code> çš„äº§å“ï¼Œä»¥ä¸‹ URL å°†è¿”å›ç›¸åº”çš„å¯¹è±¡ï¼Œæˆ–è¿”å› 404 å“åº”ï¼Œå…·ä½“å–å†³äºç»™å®šäº§å“å®ä¾‹æ˜¯å¦æ»¡è¶³è¿‡æ»¤æ¡ä»¶ï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>http<span class="token punctuation">:</span><span class="token operator">//</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>api<span class="token operator">/</span>products<span class="token operator">/</span><span class="token number">4675</span><span class="token operator">/</span>?category<span class="token operator">=</span>clothing<span class="token operator">&amp;</span>max_price<span class="token operator">=</span><span class="token number">10.00</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,3),Q={id:"è¦†ç›–åˆå§‹æŸ¥è¯¢é›†",tabindex:"-1"},W=n("a",{class:"header-anchor",href:"#è¦†ç›–åˆå§‹æŸ¥è¯¢é›†","aria-hidden":"true"},"#",-1),$={href:"http://drf.jiuyou.info/#/drf/filtering?id=%E8%A6%86%E7%9B%96%E5%88%9D%E5%A7%8B%E6%9F%A5%E8%AF%A2%E9%9B%86",title:"è¦†ç›–åˆå§‹æŸ¥è¯¢é›†",target:"_blank",rel:"noopener noreferrer"},J=t(`<p>è¯·æ³¨æ„ï¼Œä½ å¯ä»¥åŒæ—¶é‡å†™çš„ <code>.get_queryset()</code> å’Œé€šç”¨è¿‡æ»¤ï¼Œå¹¶ä¸”æ‰€æœ‰å†…å®¹éƒ½å°†æŒ‰é¢„æœŸå·¥ä½œã€‚ä¾‹å¦‚ï¼Œå¦‚æœäº§å“ä¸ç”¨æˆ·å…·æœ‰å¤šå¯¹å¤šå…³ç³»ï¼Œåˆ™å¯èƒ½éœ€è¦ç¼–å†™ä¸€ä¸ªå¦‚ä¸‹æ‰€ç¤ºçš„è§†å›¾ï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">PurchasedProductsList</span><span class="token punctuation">(</span>generics<span class="token punctuation">.</span>ListAPIView<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
    Return a list of all the products that the authenticated
    user has ever purchased, with optional filtering.
    &quot;&quot;&quot;</span>
    model <span class="token operator">=</span> Product
    serializer_class <span class="token operator">=</span> ProductSerializer
    filterset_class <span class="token operator">=</span> ProductFilter

    <span class="token keyword">def</span> <span class="token function">get_queryset</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        user <span class="token operator">=</span> self<span class="token punctuation">.</span>request<span class="token punctuation">.</span>user
        <span class="token keyword">return</span> user<span class="token punctuation">.</span>purchase_set<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),Y={id:"è¿‡æ»¤å™¨api-å‚è€ƒ",tabindex:"-1"},X=n("a",{class:"header-anchor",href:"#è¿‡æ»¤å™¨api-å‚è€ƒ","aria-hidden":"true"},"#",-1),Z={href:"http://drf.jiuyou.info/#/drf/filtering?id=api-%E5%8F%82%E8%80%83",title:"API å‚è€ƒ",target:"_blank",rel:"noopener noreferrer"},nn=t(`<h3 id="djangofilterbackend" tabindex="-1"><a class="header-anchor" href="#djangofilterbackend" aria-hidden="true">#</a> DjangoFilterBackend</h3><p><code>django-filter</code> åº“åŒ…å«ä¸€ä¸ª <code>DjangoFilterBackend</code> ç±»ï¼Œå®ƒæ”¯æŒ REST framework å¯¹å­—æ®µè¿‡æ»¤è¿›è¡Œé«˜åº¦å®šåˆ¶ã€‚</p><p>è¦ä½¿ç”¨ <code>DjangoFilterBackend</code>ï¼Œé¦–å…ˆå®‰è£… <code>django-filter</code>ã€‚ç„¶åå°† <code>django_filters</code> æ·»åŠ åˆ° Django çš„ <code>INSTALLED_APPS</code> ä¸­</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>python <span class="token operator">-</span>m pip install django<span class="token operator">-</span><span class="token builtin">filter</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶åæ·»åŠ  <code>&#39;django_filters&#39;</code> åˆ° Django çš„ <code>INSTALLED_APPS</code>ï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>INSTALLED_APPS <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token string">&#39;django_filters&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½ ç°åœ¨åº”è¯¥å°†è¿‡æ»¤å™¨åç«¯æ·»åŠ åˆ°è®¾ç½®ä¸­ï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>REST_FRAMEWORK <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&#39;DEFAULT_FILTER_BACKENDS&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;django_filters.rest_framework.DjangoFilterBackend&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ–è€…å°†è¿‡æ»¤å™¨åç«¯æ·»åŠ åˆ°å•ä¸ªè§†å›¾æˆ–è§†å›¾é›†ã€‚</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> django_filters<span class="token punctuation">.</span>rest_framework <span class="token keyword">import</span> DjangoFilterBackend

<span class="token keyword">class</span> <span class="token class-name">UserListView</span><span class="token punctuation">(</span>generics<span class="token punctuation">.</span>ListAPIView<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    filter_backends <span class="token operator">=</span> <span class="token punctuation">[</span>DjangoFilterBackend<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä½ åªéœ€è¦ç®€å•çš„åŸºäºç­‰å¼çš„è¿‡æ»¤ï¼Œåˆ™å¯ä»¥åœ¨è§†å›¾æˆ–è§†å›¾é›†ä¸Šè®¾ç½® <code>filter_fields</code> å±æ€§ï¼Œåˆ—å‡ºä½ è¦è¿‡æ»¤çš„ä¸€ç»„å­—æ®µã€‚</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">ProductList</span><span class="token punctuation">(</span>generics<span class="token punctuation">.</span>ListAPIView<span class="token punctuation">)</span><span class="token punctuation">:</span>
    queryset <span class="token operator">=</span> Product<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    serializer_class <span class="token operator">=</span> ProductSerializer
    filter_backends <span class="token operator">=</span> <span class="token punctuation">[</span>DjangoFilterBackend<span class="token punctuation">]</span>
    filterset_fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;category&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;in_stock&#39;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™å°†è‡ªåŠ¨ä¸ºç»™å®šå­—æ®µåˆ›å»ºä¸€ä¸ª <code>FilterSet</code> ç±»ï¼Œå¹¶å…è®¸ä½ å‘å‡ºå¦‚ä¸‹è¯·æ±‚ï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>http<span class="token punctuation">:</span><span class="token operator">//</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>api<span class="token operator">/</span>products?category<span class="token operator">=</span>clothing<span class="token operator">&amp;</span>in_stock<span class="token operator">=</span><span class="token boolean">True</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,14),sn=n("code",null,"FilterSet",-1),an={href:"https://django-filter.readthedocs.io/en/latest/index.html",title:"django-filter æ–‡æ¡£",target:"_blank",rel:"noopener noreferrer"},en=n("code",null,"FilterSet",-1),tn={href:"https://django-filter.readthedocs.io/en/latest/guide/rest_framework.html",title:"DRF integration",target:"_blank",rel:"noopener noreferrer"},on=t('<h3 id="searchfilter" tabindex="-1"><a class="header-anchor" href="#searchfilter" aria-hidden="true">#</a> SearchFilter</h3><p><code>SearchFilter</code> ç±»æ”¯æŒç®€å•çš„åŸºäºå•ä¸ªæŸ¥è¯¢å‚æ•°çš„æœç´¢ï¼Œå¹¶ä¸”åŸºäº Django ç®¡ç†å‘˜çš„æœç´¢åŠŸèƒ½ã€‚</p><p>åœ¨ä½¿ç”¨æ—¶ï¼Œå¯æµè§ˆçš„ API å°†åŒ…å«ä¸€ä¸ª <code>SearchFilter</code> æ§ä»¶ï¼š</p><figure><img src="'+c+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><code>SearchFilter</code> ç±»å°†ä»…åœ¨è§†å›¾å…·æœ‰ <code>search_fields</code> å±æ€§é›†çš„æƒ…å†µä¸‹åº”ç”¨ã€‚<code>search_fields</code> å±æ€§åº”è¯¥æ˜¯æ¨¡å‹ä¸Šæ–‡æœ¬ç±»å‹å­—æ®µçš„åç§°åˆ—è¡¨ï¼Œä¾‹å¦‚ <code>CharField</code> æˆ– <code>TextField</code>ã€‚</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> filters

<span class="token keyword">class</span> <span class="token class-name">UserListView</span><span class="token punctuation">(</span>generics<span class="token punctuation">.</span>ListAPIView<span class="token punctuation">)</span><span class="token punctuation">:</span>
    queryset <span class="token operator">=</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    serializer_class <span class="token operator">=</span> UserSerializer
    filter_backends <span class="token operator">=</span> <span class="token punctuation">[</span>filters<span class="token punctuation">.</span>SearchFilter<span class="token punctuation">]</span>
    search_fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;username&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;email&#39;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™å°†å…è®¸å®¢æˆ·ç«¯é€šè¿‡æŸ¥è¯¢æ¥è¿‡æ»¤åˆ—è¡¨ä¸­çš„é¡¹ç›®ï¼Œä¾‹å¦‚ï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>http<span class="token punctuation">:</span><span class="token operator">//</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>api<span class="token operator">/</span>users?search<span class="token operator">=</span>russell
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½ è¿˜å¯ä»¥ä½¿ç”¨æŸ¥æ‰¾ API åŒä¸‹åˆ’çº¿è¡¨ç¤ºæ³•å¯¹ ForeignKey æˆ– ManyToManyField æ‰§è¡Œç›¸å…³æŸ¥æ‰¾ï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>search_fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;username&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;email&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;profile__profession&#39;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¯¹äº <code>JSONField</code> å’Œ <code>HStoreField</code> å­—æ®µ, æ‚¨å¯ä»¥ä½¿ç”¨ç›¸åŒçš„åŒä¸‹åˆ’çº¿ç¬¦å·æ ¹æ®æ•°æ®ç»“æ„å†…çš„åµŒå¥—å€¼è¿›è¡Œè¿‡æ»¤(å°±æ˜¯é«˜çº§)ï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>search_fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;data__breed&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;data__owner__other_pets__0__name&#39;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæœç´¢å°†ä½¿ç”¨ä¸åŒºåˆ†å¤§å°å†™çš„éƒ¨åˆ†åŒ¹é…ã€‚æœç´¢å‚æ•°å¯èƒ½åŒ…å«å¤šä¸ªæœç´¢è¯ï¼Œå®ƒä»¬åº”è¯¥æ˜¯ç©ºæ ¼å’Œï¼ˆæˆ–ï¼‰é€—å·åˆ†éš”çš„ã€‚å¦‚æœä½¿ç”¨å¤šä¸ªæœç´¢æ¡ä»¶ï¼Œåˆ™åªæœ‰åœ¨æ‰€æœ‰æä¾›çš„æ¡ä»¶åŒ¹é…çš„æƒ…å†µä¸‹ï¼Œå¯¹è±¡æ‰ä¼šè¿”å›åˆ°åˆ—è¡¨ä¸­ã€‚</p></blockquote><p>æœç´¢è¡Œä¸ºå¯ä»¥é€šè¿‡å°†å„ç§å­—ç¬¦é¢„å…ˆæ·»åŠ åˆ° <code>search_fields</code> æ¥é™åˆ¶ã€‚</p><ul><li><code>^</code>ï¼šåŒ¹é…èµ·å§‹éƒ¨åˆ†ã€‚</li><li><code>=</code>ï¼šå®Œå…¨åŒ¹é…ã€‚</li><li><code>@</code>ï¼šå…¨æ–‡æœç´¢ã€‚ï¼ˆç›®å‰åªæ”¯æŒ Django çš„ MySQL åç«¯ã€‚ï¼‰</li><li><code>$</code>ï¼šæ­£åˆ™åŒ¹é…ã€‚</li></ul><p>ä¾‹å¦‚ï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>search_fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;=username&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;=email&#39;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>ğŸé»˜è®¤æƒ…å†µä¸‹ï¼Œæœç´¢å‚æ•°è¢«å‘½åä¸º <code>search</code> ï¼Œä½†è¿™å¯èƒ½ä¼šè¢« <code>SEARCH_PARAM</code> é…ç½®è¦†ç›–ã€‚</p></blockquote><p>è¦æ ¹æ®è¯·æ±‚å†…å®¹åŠ¨æ€æ›´æ”¹æœç´¢å­—æ®µ, å¯ä»¥å¯¹è¿›è¡Œ <code>SearchFilter</code> å­ç±»åŒ–å¹¶è¦†ç›–è¯¥ <code>get_search_fields()</code> å‡½æ•°, ä¾‹å¦‚ä»¥ä¸‹å­ç±»ä»…åœ¨æŸ¥è¯¢å‚æ•° <code>title_only</code> åœ¨è¯·æ±‚ä¸­æ—¶æ‰æœç´¢ <code>title</code>ï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> filters

<span class="token keyword">class</span> <span class="token class-name">CustomSearchFilter</span><span class="token punctuation">(</span>filters<span class="token punctuation">.</span>SearchFilter<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">get_search_fields</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> view<span class="token punctuation">,</span> request<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> request<span class="token punctuation">.</span>query_params<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;title_only&#39;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">&#39;title&#39;</span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span>CustomSearchFilter<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>get_search_fields<span class="token punctuation">(</span>view<span class="token punctuation">,</span> request<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,20),pn={href:"https://docs.djangoproject.com/en/stable/ref/contrib/admin/#django.contrib.admin.ModelAdmin.search_fields",title:"Django æ–‡æ¡£",target:"_blank",rel:"noopener noreferrer"},ln={id:"orderingfilter",tabindex:"-1"},rn=n("a",{class:"header-anchor",href:"#orderingfilter","aria-hidden":"true"},"#",-1),cn={href:"http://drf.jiuyou.info/#/drf/filtering?id=orderingfilter",title:"OrderingFilter",target:"_blank",rel:"noopener noreferrer"},dn=t('<p><code>OrderingFilter</code> ç±»æ”¯æŒç®€å•æŸ¥è¯¢å‚æ•°æ§åˆ¶ç»“æœçš„æ’åºã€‚</p><figure><img src="'+d+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒæŸ¥è¯¢å‚æ•°è¢«å‘½åä¸º <code>ordering</code>ï¼Œä½†è¿™å¯èƒ½ä¼šè¢« <code>ORDERING_PARAM</code> é…ç½®è¦†ç›–ã€‚</p><p>ä¾‹å¦‚ï¼Œè¦é€šè¿‡ username å¯¹ç”¨æˆ·æ’åºï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>http<span class="token punctuation">:</span><span class="token operator">//</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>api<span class="token operator">/</span>users?ordering<span class="token operator">=</span>username
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å®¢æˆ·ç«¯ä¹Ÿå¯ä»¥é€šè¿‡åœ¨å­—æ®µåç§°å‰æ·»åŠ  <code>-</code> æ¥æŒ‡å®šç›¸åçš„é¡ºåº, å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>http<span class="token punctuation">:</span><span class="token operator">//</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>api<span class="token operator">/</span>users?ordering<span class="token operator">=</span><span class="token operator">-</span>username
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¹Ÿå¯ä»¥æŒ‡å®šå¤šä¸ªæ’åºï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>http<span class="token punctuation">:</span><span class="token operator">//</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>api<span class="token operator">/</span>users?ordering<span class="token operator">=</span>account<span class="token punctuation">,</span>username
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,9),un={id:"æŒ‡å®šå¯ä»¥æ ¹æ®å“ªäº›å­—æ®µè¿›è¡Œæ’åº",tabindex:"-1"},kn=n("a",{class:"header-anchor",href:"#æŒ‡å®šå¯ä»¥æ ¹æ®å“ªäº›å­—æ®µè¿›è¡Œæ’åº","aria-hidden":"true"},"#",-1),hn={href:"http://drf.jiuyou.info/#/drf/filtering?id=%E6%8C%87%E5%AE%9A%E5%8F%AF%E4%BB%A5%E6%A0%B9%E6%8D%AE%E5%93%AA%E4%BA%9B%E5%AD%97%E6%AE%B5%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F",title:"æŒ‡å®šå¯ä»¥æ ¹æ®å“ªäº›å­—æ®µè¿›è¡Œæ’åº",target:"_blank",rel:"noopener noreferrer"},mn=t(`<p>å»ºè®®ä½ æ˜ç¡®æŒ‡å®š API åº”è¯¥å…è®¸åœ¨æ’åºè¿‡æ»¤å™¨ä¸­ä½¿ç”¨å“ªäº›å­—æ®µã€‚ä½ å¯ä»¥é€šè¿‡åœ¨è§†å›¾ä¸Šè®¾ç½®ä¸€ä¸ª <code>ordering_fields</code> å±æ€§æ¥å®Œæˆæ­¤æ“ä½œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">UserListView</span><span class="token punctuation">(</span>generics<span class="token punctuation">.</span>ListAPIView<span class="token punctuation">)</span><span class="token punctuation">:</span>
    queryset <span class="token operator">=</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    serializer_class <span class="token operator">=</span> UserSerializer
    filter_backends <span class="token operator">=</span> <span class="token punctuation">[</span>filters<span class="token punctuation">.</span>OrderingFilter<span class="token punctuation">]</span>
    ordering_fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;username&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;email&#39;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æœ‰åŠ©äºé˜²æ­¢æ„å¤–çš„æ•°æ®æ³„æ¼ï¼Œä¾‹å¦‚ï¼šå…è®¸ç”¨æˆ·æ ¹æ®å¯†ç å“ˆå¸Œå­—æ®µæˆ–å…¶ä»–æ•æ„Ÿæ•°æ®è¿›è¡Œæ’åºã€‚</p><p>å¦‚æœä½ æœªåœ¨è§†å›¾ä¸ŠæŒ‡å®š <code>ordering_fields</code> å±æ€§ï¼Œåˆ™è¿‡æ»¤å™¨ç±»å°†é»˜è®¤å…è®¸ç”¨æˆ·è¿‡æ»¤ç”± <code>serializer_class</code> å±æ€§æŒ‡å®šçš„åºåˆ—åŒ–ç±»ä¸­çš„ä»»ä½•å¯è¯»å­—æ®µã€‚</p><p>å¦‚æœä½ ç¡®ä¿¡è§†å›¾ä½¿ç”¨çš„æŸ¥è¯¢é›†ä¸åŒ…å«ä»»ä½•æ•æ„Ÿæ•°æ®ï¼Œåˆ™è¿˜å¯ä»¥é€šè¿‡ä½¿ç”¨ç‰¹æ®Šå€¼ <code>&#39;__all__&#39;</code> æ˜ç¡®æŒ‡å®šè§†å›¾å…è®¸åœ¨ä»»ä½•æ¨¡å‹å­—æ®µæˆ–æŸ¥è¯¢é›†èšåˆä¸Šè¿›è¡Œæ’åºã€‚</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">BookingsListView</span><span class="token punctuation">(</span>generics<span class="token punctuation">.</span>ListAPIView<span class="token punctuation">)</span><span class="token punctuation">:</span>
    queryset <span class="token operator">=</span> Booking<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    serializer_class <span class="token operator">=</span> BookingSerializer
    filter_backends <span class="token operator">=</span> <span class="token punctuation">[</span>filters<span class="token punctuation">.</span>OrderingFilter<span class="token punctuation">]</span>
    ordering_fields <span class="token operator">=</span> <span class="token string">&#39;__all__&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),vn={id:"æŒ‡å®šé»˜è®¤é¡ºåº",tabindex:"-1"},_n=n("a",{class:"header-anchor",href:"#æŒ‡å®šé»˜è®¤é¡ºåº","aria-hidden":"true"},"#",-1),gn={href:"http://drf.jiuyou.info/#/drf/filtering?id=%E6%8C%87%E5%AE%9A%E9%BB%98%E8%AE%A4%E9%A1%BA%E5%BA%8F",title:"æŒ‡å®šé»˜è®¤é¡ºåº",target:"_blank",rel:"noopener noreferrer"},fn=t(`<p>å¦‚æœåœ¨è§†å›¾ä¸Šè®¾ç½®äº† <code>ordering</code> å±æ€§ï¼Œåˆ™å°†ç”¨ä½œé»˜è®¤æ’åºã€‚</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œä½ åº”è¯¥é€šè¿‡åœ¨åˆå§‹æŸ¥è¯¢é›†ä¸Šè®¾ç½® <code>order_by</code> æ¥æ§åˆ¶æ­¤æ“ä½œï¼Œä½†æ˜¯é€šè¿‡åœ¨è§†å›¾ä¸Šä½¿ç”¨ <code>ordering</code> å‚æ•°ï¼Œä½ å¯ä»¥æŒ‡å®šæ’åºæ–¹å¼ï¼Œç„¶åå¯ä»¥å°†å…¶ä½œä¸ºä¸Šä¸‹æ–‡è‡ªåŠ¨ä¼ é€’åˆ°æ¸²æŸ“çš„æ¨¡æ¿ã€‚è¿™å¯ä»¥è‡ªåŠ¨æ¸²æŸ“åˆ—æ ‡é¢˜ï¼Œå¦‚æœå®ƒä»¬ç”¨äºæ’åºç»“æœã€‚</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">UserListView</span><span class="token punctuation">(</span>generics<span class="token punctuation">.</span>ListAPIView<span class="token punctuation">)</span><span class="token punctuation">:</span>
    queryset <span class="token operator">=</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    serializer_class <span class="token operator">=</span> UserSerializer
    filter_backends <span class="token operator">=</span> <span class="token punctuation">[</span>filters<span class="token punctuation">.</span>OrderingFilter<span class="token punctuation">]</span>
    ordering_fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;username&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;email&#39;</span><span class="token punctuation">]</span>
    ordering <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;username&#39;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>ordering</code> å±æ€§å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…å­—ç¬¦ä¸²åˆ—è¡¨ï¼ˆå…ƒç»„ï¼‰ã€‚</p>`,4),bn={id:"djangoobjectpermissionsfilter",tabindex:"-1"},En=n("a",{class:"header-anchor",href:"#djangoobjectpermissionsfilter","aria-hidden":"true"},"#",-1),yn={href:"http://drf.jiuyou.info/#/drf/filtering?id=djangoobjectpermissionsfilter",title:"DjangoObjectPermissionsFilter",target:"_blank",rel:"noopener noreferrer"},An=n("code",null,"DjangoObjectPermissionsFilter",-1),Bn={href:"https://django-guardian.readthedocs.io/",title:"django-guardian",target:"_blank",rel:"noopener noreferrer"},jn=n("code",null,"'view'",-1),wn=t("<p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ <code>DjangoObjectPermissionsFilter</code>ï¼Œé‚£ä¹ˆä½ å¯èƒ½è¿˜éœ€è¦æ·»åŠ é€‚å½“çš„å¯¹è±¡æƒé™ç±»ï¼Œä»¥ç¡®ä¿ç”¨æˆ·åªæœ‰åœ¨å…·æœ‰é€‚å½“å¯¹è±¡æƒé™çš„æƒ…å†µä¸‹æ‰èƒ½å¯¹å®ä¾‹è¿›è¡Œæ“ä½œã€‚åšåˆ°è¿™ä¸€ç‚¹çš„æœ€ç®€å•æ–¹æ³•æ˜¯ç»§æ‰¿ <code>DjangoObjectPermissions</code> å¹¶ä¸º <code>perms_map</code> å±æ€§æ·»åŠ  <code>&#39;view&#39;</code> æƒé™ã€‚</p><p>ä½¿ç”¨ <code>DjangoObjectPermissionsFilter</code> å’Œ <code>DjangoObjectPermissions</code> çš„å®Œæ•´ç¤ºä¾‹å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºã€‚</p>",2),Fn={href:"http://permissions.py",title:"permissions.py",target:"_blank",rel:"noopener noreferrer"},qn=n("strong",null,"permissions.py",-1),Dn=t(`<div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">CustomObjectPermissions</span><span class="token punctuation">(</span>permissions<span class="token punctuation">.</span>DjangoObjectPermissions<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
    Similar to \`DjangoObjectPermissions\`, but adding &#39;view&#39; permissions.
    &quot;&quot;&quot;</span>
    perms_map <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&#39;GET&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;%(app_label)s.view_%(model_name)s&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&#39;OPTIONS&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;%(app_label)s.view_%(model_name)s&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&#39;HEAD&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;%(app_label)s.view_%(model_name)s&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&#39;POST&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;%(app_label)s.add_%(model_name)s&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&#39;PUT&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;%(app_label)s.change_%(model_name)s&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&#39;PATCH&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;%(app_label)s.change_%(model_name)s&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&#39;DELETE&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;%(app_label)s.delete_%(model_name)s&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),Pn={href:"http://views.py",title:"views.py",target:"_blank",rel:"noopener noreferrer"},xn=t(`<div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">EventViewSet</span><span class="token punctuation">(</span>viewsets<span class="token punctuation">.</span>ModelViewSet<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
    Viewset that only lists events if user has &#39;view&#39; permissions, and only
    allows operations on individual events if user has appropriate &#39;view&#39;, &#39;add&#39;,
    &#39;change&#39; or &#39;delete&#39; permissions.
    &quot;&quot;&quot;</span>
    queryset <span class="token operator">=</span> Event<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    serializer_class <span class="token operator">=</span> EventSerializer
    filter_backends <span class="token operator">=</span> <span class="token punctuation">(</span>filters<span class="token punctuation">.</span>DjangoObjectPermissionsFilter<span class="token punctuation">,</span><span class="token punctuation">)</span>
    permission_classes <span class="token operator">=</span> <span class="token punctuation">(</span>myapp<span class="token punctuation">.</span>permissions<span class="token punctuation">.</span>CustomObjectPermissions<span class="token punctuation">,</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),Ln={id:"è‡ªå®šä¹‰é€šç”¨è¿‡æ»¤å™¨",tabindex:"-1"},Sn=n("a",{class:"header-anchor",href:"#è‡ªå®šä¹‰é€šç”¨è¿‡æ»¤å™¨","aria-hidden":"true"},"#",-1),Rn={href:"http://drf.jiuyou.info/#/drf/filtering?id=%E8%87%AA%E5%AE%9A%E4%B9%89%E9%80%9A%E7%94%A8%E8%BF%87%E6%BB%A4%E5%99%A8",title:"è‡ªå®šä¹‰é€šç”¨è¿‡æ»¤å™¨",target:"_blank",rel:"noopener noreferrer"},Tn=n("p",null,"ä½ è¿˜å¯ä»¥æä¾›è‡ªå·±çš„é€šç”¨è¿‡æ»¤å™¨åç«¯ï¼Œæˆ–è€…ç¼–å†™ä¸€ä¸ªå¯ä¾›å…¶ä»–å¼€å‘äººå‘˜ä½¿ç”¨çš„å¯å®‰è£…åº”ç”¨ç¨‹åºã€‚",-1),Un=n("p",null,[s("ä¸ºæ­¤ï¼Œè¯·ç»§æ‰¿ "),n("code",null,"BaseFilterBackend"),s("ï¼Œå¹¶è¦†ç›– "),n("code",null,".filter_queryset(self, request, queryset, view)"),s(" æ–¹æ³•ã€‚è¯¥æ–¹æ³•åº”è¯¥è¿”å›ä¸€ä¸ªæ–°çš„ï¼Œè¿‡æ»¤çš„æŸ¥è¯¢é›†ã€‚")],-1),In=n("p",null,"é™¤äº†å…è®¸å®¢æˆ·ç«¯æ‰§è¡Œæœç´¢å’Œè¿‡æ»¤å¤–ï¼Œé€šç”¨è¿‡æ»¤å™¨åç«¯å¯ç”¨äºé™åˆ¶å“ªäº›å¯¹è±¡åº”è¯¥å¯¹ç»™å®šçš„è¯·æ±‚æˆ–ç”¨æˆ·å¯è§ã€‚",-1),On={id:"ä¸¾ä¸ªæ —å­",tabindex:"-1"},zn=n("a",{class:"header-anchor",href:"#ä¸¾ä¸ªæ —å­","aria-hidden":"true"},"#",-1),Cn={href:"http://drf.jiuyou.info/#/drf/filtering?id=%E4%B8%BE%E4%B8%AA%E6%A0%97%E5%AD%90",title:"ä¸¾ä¸ªæ —å­",target:"_blank",rel:"noopener noreferrer"},Vn=t(`<p>ä½ å¯èƒ½éœ€è¦é™åˆ¶ç”¨æˆ·åªèƒ½çœ‹åˆ°ä»–ä»¬åˆ›å»ºçš„å¯¹è±¡ã€‚</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">IsOwnerFilterBackend</span><span class="token punctuation">(</span>filters<span class="token punctuation">.</span>BaseFilterBackend<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;
    Filter that only allows users to see their own objects.
    &quot;&quot;&quot;</span>
    <span class="token keyword">def</span> <span class="token function">filter_queryset</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> queryset<span class="token punctuation">,</span> view<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> queryset<span class="token punctuation">.</span><span class="token builtin">filter</span><span class="token punctuation">(</span>owner<span class="token operator">=</span>request<span class="token punctuation">.</span>user<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),Nn={id:"è‡ªå®šä¹‰æ¥å£",tabindex:"-1"},Mn=n("a",{class:"header-anchor",href:"#è‡ªå®šä¹‰æ¥å£","aria-hidden":"true"},"#",-1),Hn={href:"http://drf.jiuyou.info/#/drf/filtering?id=%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%A5%E5%8F%A3",title:"è‡ªå®šä¹‰æ¥å£",target:"_blank",rel:"noopener noreferrer"},Kn=n("p",null,[s("é€šç”¨è¿‡æ»¤å™¨ä¹Ÿå¯ä»¥åœ¨å¯æµè§ˆçš„ API ä¸­æ¸²æŸ“æ¥å£ã€‚ä¸ºæ­¤ï¼Œä½ åº”è¯¥å®ç°ä¸€ä¸ª "),n("code",null,"to_html()"),s(" æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›è¿‡æ»¤å™¨çš„æ¸²æŸ“ HTML è¡¨ç¤ºã€‚æ­¤æ–¹æ³•åº”å…·æœ‰ä»¥ä¸‹ç­¾åï¼š")],-1),Gn=n("p",null,[n("code",null,"to_html(self, request, queryset, view)")],-1),Qn=n("p",null,"è¯¥æ–¹æ³•åº”è¯¥è¿”å›ä¸€ä¸ªæ¸²æŸ“çš„ HTML å­—ç¬¦ä¸²ã€‚",-1),Wn={id:"pagination-schemas",tabindex:"-1"},$n=n("a",{class:"header-anchor",href:"#pagination-schemas","aria-hidden":"true"},"#",-1),Jn={href:"http://drf.jiuyou.info/#/drf/filtering?id=pagination-amp-schemas",title:"Pagination & schemas",target:"_blank",rel:"noopener noreferrer"},Yn=t('<p>é€šè¿‡å®ç° <code>get_schema_fields()</code> æ–¹æ³•ï¼Œä½ è¿˜å¯ä»¥ä½¿è¿‡æ»¤å™¨æ§ä»¶å¯ç”¨äº REST framework æä¾›çš„æ¨¡å¼è‡ªåŠ¨ç”Ÿæˆã€‚æ­¤æ–¹æ³•åº”å…·æœ‰ä»¥ä¸‹ç­¾åï¼š</p><p><code>get_schema_fields(self, view)</code></p><p>è¯¥æ–¹æ³•åº”è¯¥è¿”å›ä¸€ä¸ª <code>coreapi.Field</code> å®ä¾‹åˆ—è¡¨ã€‚</p><h2 id="ç¬¬ä¸‰æ–¹åº“" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸‰æ–¹åº“" aria-hidden="true">#</a> ç¬¬ä¸‰æ–¹åº“</h2><h3 id="django-restæ¡†æ¶è¿‡æ»¤å™¨è½¯ä»¶åŒ…" tabindex="-1"><a class="header-anchor" href="#django-restæ¡†æ¶è¿‡æ»¤å™¨è½¯ä»¶åŒ…" aria-hidden="true">#</a> Django RESTæ¡†æ¶è¿‡æ»¤å™¨è½¯ä»¶åŒ…</h3>',5),Xn={href:"https://link.juejin.cn/?target=https://github.com/philipn/django-rest-framework-filters",title:"Django æ¡†æ¶è¿‡æ»¤å™¨",target:"_blank",rel:"noopener noreferrer"},Zn=n("code",null,"DjangoFilterBackend",-1),ns=n("h3",{id:"django-restæ¡†æ¶å…¨å­—æœç´¢è¿‡æ»¤å™¨",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#django-restæ¡†æ¶å…¨å­—æœç´¢è¿‡æ»¤å™¨","aria-hidden":"true"},"#"),s(" Django RESTæ¡†æ¶å…¨å­—æœç´¢è¿‡æ»¤å™¨")],-1),ss={href:"https://link.juejin.cn/?target=https://github.com/trollknurr/django-rest-framework-word-search-filter",title:"djangorestframework-word-filter",target:"_blank",rel:"noopener noreferrer"},as=n("code",null,"filter.SearchFilter",-1),es=n("h3",{id:"django-urlè¿‡æ»¤å™¨",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#django-urlè¿‡æ»¤å™¨","aria-hidden":"true"},"#"),s(" Django URLè¿‡æ»¤å™¨")],-1),ts={href:"https://link.juejin.cn/?target=https://github.com/miki725/django-url-filter",title:"django-url-filter",target:"_blank",rel:"noopener noreferrer"},os=n("code",null,"filtersets",-1),is=n("code",null,"filters",-1),ps=n("code",null,"QuerySet",-1),ls=n("h3",{id:"drf-url-filters",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#drf-url-filters","aria-hidden":"true"},"#"),s(" drf-url-filters")],-1),rs={href:"https://link.juejin.cn/?target=https://github.com/manjitkumar/drf-url-filters",title:"DRF-URL-Filters",target:"_blank",rel:"noopener noreferrer"},cs=n("code",null,"drfmodelviewset",-1),ds=n("code",null,"Queryset",-1),us=n("code",null,"Voluptuous",-1),ks=n("code",null,"Voluptuous",-1);function hs(ms,vs){const a=i("ExternalLinkIcon");return p(),l("div",null,[k,n("blockquote",null,[n("p",null,[n("a",h,[s("å®˜æ–¹åŸæ–‡é“¾æ¥"),e(a)])])]),n("h1",m,[v,s(),n("a",_,[s("è¿‡æ»¤"),e(a)])]),g,f,b,n("h2",E,[y,s(),n("a",A,[s("æ ¹æ®å½“å‰ç”¨æˆ·è¿›è¡Œè¿‡æ»¤"),e(a)])]),B,n("h2",j,[w,s(),n("a",F,[s("æ ¹æ® URL è¿›è¡Œè¿‡æ»¤"),e(a)])]),q,n("h2",D,[P,s(),n("a",x,[s("æ ¹æ®æŸ¥è¯¢å‚æ•°è¿›è¡Œè¿‡æ»¤"),e(a)])]),L,n("h1",S,[R,s(),n("a",T,[s("é€šç”¨è¿‡æ»¤å™¨"),e(a)])]),U,I,O,n("h2",z,[C,s(),n("a",V,[s("è®¾ç½®è¿‡æ»¤å™¨åç«¯"),e(a)])]),N,n("h2",M,[H,s(),n("a",K,[s("è¿‡æ»¤å’Œå¯¹è±¡æŸ¥æ‰¾"),e(a)])]),G,n("h2",Q,[W,s(),n("a",$,[s("è¦†ç›–åˆå§‹æŸ¥è¯¢é›†"),e(a)])]),J,n("h1",Y,[X,s(" è¿‡æ»¤å™¨"),n("a",Z,[s("API å‚è€ƒ"),e(a)])]),nn,n("p",null,[s("å¯¹äºæ›´é«˜çº§çš„è¿‡æ»¤è¦æ±‚ï¼Œä½ åº”è¯¥åœ¨è§†å›¾ä¸Šåœ¨æŒ‡å®š "),sn,s(" ç±»ã€‚ä½ å¯ä»¥åœ¨ "),n("a",an,[s("django-filter æ–‡æ¡£"),e(a)]),s("ä¸­é˜…è¯»æœ‰å…³ "),en,s(" çš„æ›´å¤šä¿¡æ¯ã€‚è¿˜å»ºè®®ä½ é˜…è¯» "),n("a",tn,[s("DRF integration"),e(a)]),s("ã€‚")]),on,n("blockquote",null,[n("p",null,[s("æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… "),n("a",pn,[s("Django æ–‡æ¡£"),e(a)]),s("ã€‚")])]),n("h2",ln,[rn,s(),n("a",cn,[s("OrderingFilter"),e(a)])]),dn,n("h3",un,[kn,s(),n("a",hn,[s("æŒ‡å®šå¯ä»¥æ ¹æ®å“ªäº›å­—æ®µè¿›è¡Œæ’åº"),e(a)])]),mn,n("h3",vn,[_n,s(),n("a",gn,[s("æŒ‡å®šé»˜è®¤é¡ºåº"),e(a)])]),fn,n("h2",bn,[En,s(),n("a",yn,[s("DjangoObjectPermissionsFilter"),e(a)])]),n("p",null,[An,s(" æ—¨åœ¨ä¸ "),n("a",Bn,[s("django-guardian"),e(a)]),s(" è½¯ä»¶åŒ…ä¸€èµ·ä½¿ç”¨ï¼Œæ·»åŠ äº†è‡ªå®šä¹‰ "),jn,s(" çš„æƒé™ã€‚è¿‡æ»¤å™¨å°†ç¡®ä¿æŸ¥è¯¢é›†ä»…è¿”å›ç”¨æˆ·å…·æœ‰é€‚å½“æŸ¥çœ‹æƒé™çš„å¯¹è±¡ã€‚")]),wn,n("p",null,[n("a",Fn,[qn,e(a)]),s(":")]),Dn,n("p",null,[n("a",Pn,[s("views.py"),e(a)]),s(":")]),xn,n("h1",Ln,[Sn,s(),n("a",Rn,[s("è‡ªå®šä¹‰é€šç”¨è¿‡æ»¤å™¨"),e(a)])]),Tn,Un,In,n("h2",On,[zn,s(),n("a",Cn,[s("ä¸¾ä¸ªæ —å­"),e(a)])]),Vn,n("h2",Nn,[Mn,s(),n("a",Hn,[s("è‡ªå®šä¹‰æ¥å£"),e(a)])]),Kn,Gn,Qn,n("h2",Wn,[$n,s(),n("a",Jn,[s("Pagination & schemas"),e(a)])]),Yn,n("p",null,[s("åœ¨ "),n("a",Xn,[s("Django æ¡†æ¶è¿‡æ»¤å™¨"),e(a)]),s("å°è£…ä¸ "),Zn,s(" ç±»ä¸€èµ·å·¥ä½œ, å¹¶å…è®¸æ‚¨è½»æ¾åœ°åœ¨è·¨å…³ç³»çš„åˆ›å»ºè¿‡æ»¤å™¨, æˆ–åœ¨æŒ‡å®šå­—æ®µåˆ›å»ºå¤šä¸ªè¿‡æ»¤å™¨æŸ¥æ‰¾ç±»å‹ã€‚")]),ns,n("p",null,[n("a",ss,[s("djangorestframework-word-filter"),e(a)]),s("ä½œä¸º "),as,s(" æ›¿ä»£å“, å®ƒå°†åœ¨æ–‡æœ¬ä¸­æœç´¢å®Œæ•´çš„å•è¯æˆ–å®Œå…¨åŒ¹é…ã€‚")]),es,n("p",null,[n("a",ts,[s("django-url-filter"),e(a)]),s(" æä¾›äº†ä¸€ç§é€šè¿‡å‹å¥½çš„ url è¿‡æ»¤æ•°æ®çš„å®‰å…¨æ–¹æ³•, å®ƒçš„å·¥ä½œåŸç†ä¸ DRF åºåˆ—åŒ–ç¨‹åºå’Œå­—æ®µéå¸¸ç›¸ä¼¼, åœ¨æŸç§æ„ä¹‰ä¸Šå®ƒä»¬å¯ä»¥åµŒå¥—, ä½†å®ƒä»¬è¢«ç§°ä¸º "),os,s("å’Œ "),is,s(", è¿™æä¾›äº†è¿‡æ»¤ç›¸å…³æ•°æ®çš„ç®€å•æ–¹æ³•, è€Œä¸”è¿™ä¸ªåº“ä¹Ÿæ˜¯é€šç”¨çš„, æ‰€ä»¥å®ƒå¯ä»¥ç”¨æ¥è¿‡æ»¤å…¶ä»–æ•°æ®æº, è€Œä¸ä»…ä»…æ˜¯ Django "),ps,s("ã€‚")]),ls,n("p",null,[n("a",rs,[s("DRF-URL-Filters"),e(a)]),s(" æ˜¯ä¸€ä¸ªç®€å•çš„ Django åº”ç”¨ç¨‹åº, å®ƒä»¥å¹²å‡€ã€ç®€å•å’Œå¯é…ç½®çš„æ–¹å¼åœ¨ "),cs,s(" çš„ "),ds,s(" ä¸Šåº”ç”¨è¿‡æ»¤å™¨, å®ƒè¿˜æ”¯æŒå¯¹ä¼ å…¥æŸ¥è¯¢å‚æ•°çš„éªŒè¯, ä¸€ä¸ªæ¼‚äº®çš„ python åŒ… "),us,s(" ç”¨äºå¯¹ä¼ å…¥çš„æŸ¥è¯¢å‚æ•°è¿›è¡ŒéªŒè¯, å…³äº "),ks,s(" çš„æœ€å¥½çš„éƒ¨åˆ†æ˜¯æ‚¨å¯ä»¥æ ¹æ®æŸ¥è¯¢å‚æ•°è¦æ±‚å®šä¹‰è‡ªå·±çš„éªŒè¯ã€‚")])])}const fs=o(u,[["render",hs],["__file","Rest-frameworkä¸“æ è®²è§£(åä¹)ï¼šFiltering.html.vue"]]);export{fs as default};
